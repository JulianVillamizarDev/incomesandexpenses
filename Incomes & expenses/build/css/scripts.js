let earnings=0,earningsList=[],expenses=0,expensesList=[],total=earnings-expenses;function init(){document.querySelector(".btn").addEventListener("click",inputData),setEarnings(),setExpenses(),totalGraph()}function setTotal(){total=earnings-expenses;document.querySelector(".total-value").textContent="$"+total}function setEarnings(){earnings=earningsList.reduce((e,t)=>e+t.value,0);document.querySelector(".earning-value").textContent="$"+earnings,setTotal();createGraph(document.getElementById("earningsGraph"),earningsList,"earning")}function setExpenses(){expenses=expensesList.reduce((e,t)=>e+t.value,0);document.querySelector(".expense-value").textContent="$"+expenses,setTotal();createGraph(document.getElementById("expensesGraph"),expensesList,"expense")}function inputEarning(e,t){earningsList.push({description:t,value:e}),showEarnings(),saveLocalStorage()}function inputExpense(e,t){expensesList.push({description:t,value:e}),showExpenses(),saveLocalStorage()}function inputData(){const e=document.querySelector("#description"),t=document.querySelector("#amount"),n=document.querySelector("#tipo");if(""===e.value||""===t.value)return;const a=parseFloat(t.value);if(0!==a){switch(n.value){case"earning":inputEarning(a,e.value);break;case"expense":inputExpense(a,e.value)}e.value="",t.value=""}}function showEarnings(){const e=document.querySelector(".data-earning");e.innerHTML="",earningsList.forEach((t,n)=>{const a=generateHTML(t.description,t.value,n);e.appendChild(a)});document.querySelectorAll(".btn-delete").forEach(e=>{e.addEventListener("click",deleteData)}),setEarnings()}function showExpenses(){const e=document.querySelector(".data-expense");e.innerHTML="",expensesList.forEach((t,n)=>{const a=generateHTML(t.description,t.value,n);e.appendChild(a)});document.querySelectorAll(".btn-delete").forEach(e=>{e.addEventListener("click",deleteData)}),setExpenses()}function generateHTML(e,t,n){const a=document.createElement("div"),s=document.createElement("p"),r=document.createElement("p"),o=document.createElement("button");return a.classList.add("data"),s.classList.add("data-description"),r.classList.add("data-amount"),o.classList.add("btn-delete"),s.textContent=e,r.textContent="$"+t,o.textContent="remove",a.appendChild(s),a.appendChild(r),a.appendChild(o),a.setAttribute("data-id",n),a}function deleteData(e){const t=e.target.parentElement.parentElement.parentElement.children[0].textContent,n=e.target.parentElement.getAttribute("data-id");"incomes"===t.toLowerCase()?(earningsList.splice(n,1),showEarnings()):(expensesList.splice(n,1),showExpenses()),saveLocalStorage()}function createGraph(e,t,n){const a=t.map(e=>e.value),s=t.map((e,t)=>"");let r="",o="";"earning"===n?(o="#0087D4",r="Incomes",Chart.getChart("earningsGraph")&&Chart.getChart("earningsGraph").destroy()):"expense"===n&&(r="Expenses",o="#F51000",Chart.getChart("expensesGraph")&&Chart.getChart("expensesGraph").destroy()),new Chart(e,{type:"line",data:{labels:s,datasets:[{label:r,data:a,borderWidth:1,borderColor:o}]},options:{scales:{y:{beginAtZero:!0}}}}),totalGraph()}function totalGraph(){Chart.getChart("totalGraph")&&Chart.getChart("totalGraph").destroy();const e=earningsList.length>=expensesList.length?earningsList.map((e,t)=>""):expensesList.map((e,t)=>""),t=earningsList.map(e=>e.value),n=expensesList.map(e=>e.value),a=document.getElementById("totalGraph");new Chart(a,{type:"line",data:{labels:e,datasets:[{label:"Incomes",data:t,borderWidth:1,borderColor:"#0087D4"},{label:"Expenses",data:n,borderWidth:1,borderColor:"#F51000"}]},options:{scales:{y:{beginAtZero:!0}}}})}function loadLocalStorage(){earningsList=JSON.parse(localStorage.getItem("earnings"))||[],showEarnings(),expensesList=JSON.parse(localStorage.getItem("expenses"))||[],showExpenses()}function saveLocalStorage(){const e=JSON.stringify(earningsList);localStorage.setItem("earnings",e);const t=JSON.stringify(expensesList);localStorage.setItem("expenses",t)}document.addEventListener("DOMContentLoaded",()=>{init(),loadLocalStorage()});
//# sourceMappingURL=scripts.js.map
